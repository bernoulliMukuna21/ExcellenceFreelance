extends layout

block content

  include partials/form_message
  .index-page-one
    .index-page-one-left
      h1 Hire Excellent Freelancers around the World
      p
        span NxtDue.com
        |  facilitates the booking of freelancers all over the world. As well as booking freelancers, you can also become a freelancer.
      .booking-buttons
        if(!isLogged)
          a(href='/users/join'): button JOIN US NOW
        else
          button#book-now-btn(class=pageType) BOOK NOW
    .index-page-one-right
      img(src='/images/excellenceFreelancerMaybeFinal.png')
  //
    .index-page-two
      .book-services-steps
        p Browse
        p Find a Freelancer
        p Book Freelance Service
  .index-page-three
    each freelancer in allFreelancers
      .single-user-index-details
        .top-side
          if !freelancer.profile_picture.data
            img(src='/images/userDefaultImage.png')
          else
            - let imageSource;
            if freelancer.profile_picture.name === 'oauth_picture'
              - imageSource = freelancer.profile_picture.data.toString();
            else
              - imageSource = "data:image/"+freelancer.profile_picture.contentType+";base64,"+freelancer.profile_picture.data.toString('base64')
            img(src=imageSource)
          section
            span
              a(href='/account/freelancer/'+emailEncode(freelancer.email)): p #{freelancer.name+' '+freelancer.surname}
        .middle-side
          div
            each service_price in freelancer.serviceAndPrice
              .index-serviceAndPrice
                p #{service_price.service}
                p #{'Â£'+service_price.price}
        .bottom-side
          if(!isLogged)
            button Instant Book
            button Request
          else if loggedInUser.user_stature === 'client'
            button Instant Book
            button Request
          else
            button(style='disabled: disabled; opacity: 50%; cursor: not-allowed' disabled='disabled') Instant Book
            button(style='disabled: disabled; opacity: 50%; cursor: not-allowed' disabled='disabled') Request

        input(type='hidden', value=emailEncode(freelancer.email))

    include ./partials/booking_form
  include ./partials/footer

  //
              a(href='/account/freelancer/'+emailEncode(freelancer.email)): button View Profile